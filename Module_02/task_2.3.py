# Вызовите команду $ ls -la для папки /etc . Скопируйте output в файл. 
# Обратите внимание: мы опустили флаг -h, который сделал бы формат размера 
# человекачитаемым. Напишите программу, которая бы переработала 
# результат так, будто он был выведен с использованием флага -h

# С помощью python выясните количество файлов и папок в output. 
# У папок права доступа обычно начинаются с d , например drwxr-xr-x. 
# По этому признаку папки можно отличить от файлов.
# Подсчитайте суммарный размер всех файлов в папке /etc в байтах
# Переведите его в человекочитаемый формат 
# (1024 байта = 1 кБ, 1024 кБ = 1 МБ и тд). 
# Напишите функцию, которая по output из ls -la 
# выводит суммарный размер файлов в человекочитаемом формате.


import subprocess


def human_readable_size(size_in_bytes):
    """
    Преобразует размер из байтов в человекочитаемый формат.
    """
    suffixes = ['B', 'KB', 'MB', 'GB', 'TB']
    index = 0
    while size_in_bytes >= 1024 and index < len(suffixes) - 1:
        size_in_bytes /= 1024.0
        index += 1
    return f"{size_in_bytes:.2f} {suffixes[index]}"

